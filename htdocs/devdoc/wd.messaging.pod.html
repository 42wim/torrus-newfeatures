<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>RRFW Working Draft: Messaging subsystem</title>
<link rel="stylesheet" href="../torrusdoc.css" type="text/css" />
<link rev="made" href="mailto:gerrit@familiehaase.de" />
</head>

<body>

<p><a name="__index__"></a></p>
<!-- INDEX BEGIN -->

<ul>

	<li><a href="#rrfw_working_draft__messaging_subsystem">RRFW Working Draft: Messaging subsystem</a></li>
	<ul>

		<li><a href="#introduction">Introduction</a></li>
		<li><a href="#description">Description</a></li>
	</ul>

	<li><a href="#author">Author</a></li>
</ul>
<!-- INDEX END -->

<hr />
<p>
</p>
<h1><a name="rrfw_working_draft__messaging_subsystem">RRFW Working Draft: Messaging subsystem</a></h1>
<p>Status: pending implementation.
Date: Jun 30 2004. Last revised:</p>
<p>
</p>
<h2><a name="introduction">Introduction</a></h2>
<p>Due to the modular and flexible architecture of RRFW, nothing prevents
us from having the possibility of user messages displayed in RRFW pages.
This design document describes the concept of this functionality.</p>
<p>
</p>
<h2><a name="description">Description</a></h2>
<p>The messaging subsystem will allow the RRFW users to leave comments and
short messages directly at the RRFW pages. Those may be remarks about the
graph contents, troubleshooting journal, etc.</p>
<p>Each user is uniquely identified by RRFW ACL susbsystem. We introduce several
new attributes and privileges for messaging functionality. Privilege objects
are the tree names.</p>
<p>Attributes:</p>
<ul>
<li><strong><a name="item_email">email</a></strong><br />
</li>
The user's e-mail where the notifications will be sent
<p></p>
<li><strong><a name="item_msgnotify">msgnotify</a></strong><br />
</li>
When set to true value, e-mail notifications will be sent to this users.
<p></p></ul>
<p>Privileges:</p>
<ul>
<li><strong><a name="item_postmessages">PostMessages</a></strong><br />
</li>
allows the user to add messages to the tree objects.
<p></p>
<li><strong><a name="item_displaymessages">DisplayMessages</a></strong><br />
</li>
allows the user to see all messages for the tree
<p></p>
<li><strong><a name="item_receivenotifications">ReceiveNotifications</a></strong><br />
</li>
allows the user to receive e-mail notifications. For those notifications
generated by Messages, <a href="#item_displaymessages"><code>DisplayMessages</code></a> must be granted too.
<p></p>
<li><strong><a name="item_deletemessages">DeleteMessages</a></strong><br />
</li>
allows the user to delete messages from the tree objects
<p></p>
<li><strong><a name="item_editmessages">EditMessages</a></strong><br />
</li>
allows the user to change any message
<p></p>
<li><strong><a name="item_editownmessages">EditOwnMessages</a></strong><br />
</li>
allows the user to change his/her own messages
<p></p></ul>
<p>The <code>acledit</code> program will have two additional options that simplify
administration: <code>--msguser</code> will grant all privileges except <a href="#item_deletemessages"><code>DeleteMessages</code></a>
and <a href="#item_editmessages"><code>EditMessages</code></a>, and <code>--msgadmin</code> will grant all messaging privileges.</p>
<p>The messaging options database will contain parameters that each user can tune
for himself or herself:</p>
<ul>
<li><strong><a name="item_notify_when">Notify when</a></strong><br />
</li>
a) any new message in all trees; b) (default) new message for
objects that I commented only.
<p></p>
<li><strong><a name="item_notification_format">Notification format</a></strong><br />
</li>
a) plain text (default); b) HTML; c) RSS 2.0
<p></p>
<li><strong><a name="item_subject_line_format">Subject line format</a></strong><br />
</li>
The format pattern with keywords like <code>$TREE</code>, <code>$PATH</code>, <code>$AUTHOR</code>,
<code>$MSGID</code>, etc.
<p>Default:</p>
<pre>
  [rrfw $MSGID] $TREE $AUTHOR: $PATH</pre>
<p></p></ul>
<p>Each message will have the status of Read/Unread per each user in the system.</p>
<p>On the tree chooser page in RRFW Web interface, the user will be shown
the unread messages.</p>
<p>RRS 2.0 feed will be provided for messages export and for integration with
other messaging systems.</p>
<p>
</p>
<hr />
<h1><a name="author">Author</a></h1>
<p>Copyright (c) 2004 Stanislav Sinyagin &lt;<a href="mailto:ssinyagin@yahoo.com">ssinyagin@yahoo.com</a>&gt;</p>

</body>

</html>
