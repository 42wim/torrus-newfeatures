<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>RPN expressions in Torrus</title>
<link rel="stylesheet" href="torrusdoc.css" type="text/css" />
<link rev="made" href="mailto:gp@familiehaase.de" />
</head>

<body>

<p><a name="__index__"></a></p>
<!-- INDEX BEGIN -->

<ul>

	<li><a href="#rpn_expressions_in_torrus">RPN expressions in Torrus</a></li>
	<ul>

		<li><a href="#new_functions_added">New functions added</a></li>
		<li><a href="#data_access">Data access</a></li>
	</ul>

	<li><a href="#author">Author</a></li>
</ul>
<!-- INDEX END -->

<hr />
<p>
</p>
<h1><a name="rpn_expressions_in_torrus">RPN expressions in Torrus</a></h1>
<p>In Torrus framework, RPN (referse Polish notation) expressions are
the superset of those in RRDtool. See the <code>rrdtool graph</code> manual at
&lt;<a href="http://www.rrdtool.org/doc/rrdgraph_rpn.en.html">http://www.rrdtool.org/doc/rrdgraph_rpn.en.html</a>&gt;.</p>
<p>
</p>
<h2><a name="new_functions_added">New functions added</a></h2>
<ul>
<li><strong><a name="item_ne">NE</a></strong><br />
</li>
Pops two arguments from stack, and pushes 0 if the arguments are equal,
and 1 otherwise.
<p></p>
<li><strong><a name="item_and_2c_or">AND, OR</a></strong><br />
</li>
These functions pop two arguments from stack, and push back the result of
logical operation. Unlike C operators,
<p></p>
<li><strong><a name="item_not">NOT</a></strong><br />
</li>
Pops one value from stack and pushes 0 if the argument is nonzero,
otherwise 1.
<p></p>
<li><strong><a name="item_abs">ABS</a></strong><br />
</li>
Pops one value from stack and pushes the absolute value of it.
<p></p>
<li><strong><a name="item_now">NOW</a></strong><br />
</li>
Pushes the current time, in seconds since Epoch.
<p></p>
<li><strong><a name="item_mod">MOD</a></strong><br />
</li>
Equivalent of <code>%</code>, the modulo operator. In Torrus parameter value,
percent sign is reserved for parameter substitution.
<p></p></ul>
<p>
</p>
<h2><a name="data_access">Data access</a></h2>
<p>In certain context, the values of the datasources can be evaluated
into RPN expression.</p>
<p>The general format for data access is following:</p>
<pre>
  {FUNC@PATH(-OFFSET)}</pre>
<p><code>FUNC@</code> specifies a special function to be performed on the
data being accessed.</p>
<p>For monitor expressions, <code>T@</code> returns the timestamp of the data source.</p>
<p>For <code>rrd-cdef</code> leaf types and for <code>rrd-multigraph</code> datasource types,
the following functions affect the graph shape: <code>AVERAGE@</code>, <code>MIN@</code>,
<code>MAX@</code>, and <code>LAST@</code>. They cause the corresponding Consolidation Function
being used when creating a graph.</p>
<p><code>PATH</code> specifies the relative name for the data source.
If omitted, the current leaf value is taken. If starts with <code>/</code>,
the path is considered as absolute.
Path starting with letter denotes the child of the parent subtree.
Double dot (<code>../</code>) in the beginning of the path is interpreted as
current parent's parent subtree.</p>
<p><code>(OFFSET)</code> determines the time reference, as described in <code>rrdtool fetch</code>
manual. In addition, the word <code>LAST</code> refers to the latest data timestamp
available.</p>
<p><code>(OFFSET)</code> is currently supported in Monitor expressions only.</p>
<p>
</p>
<hr />
<h1><a name="author">Author</a></h1>
<p>Copyright (c) 2002-2004 Stanislav Sinyagin &lt;<a href="mailto:ssinyagin@yahoo.com">ssinyagin@yahoo.com</a>&gt;</p>

</body>

</html>
