<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Overview Plugin</title>
<link rel="stylesheet" href="../torrusdoc.css" type="text/css" />
<link rev="made" href="mailto:gp@familiehaase.de" />
</head>

<body>

<p><a name="__index__"></a></p>
<!-- INDEX BEGIN -->

<ul>

	<li><a href="#overview_plugin">Overview Plugin</a></li>
	<ul>

		<li><a href="#introduction">Introduction</a></li>
		<li><a href="#required_software__apart_from_torrus_">Required Software (apart from Torrus)</a></li>
		<li><a href="#installation">Installation</a></li>
		<li><a href="#usage">Usage</a></li>
	</ul>

	<li><a href="#author">Author</a></li>
</ul>
<!-- INDEX END -->

<hr />
<p>
</p>
<h1><a name="overview_plugin">Overview Plugin</a></h1>
<p>
</p>
<h2><a name="introduction">Introduction</a></h2>
<p>This plugin adds an alternative user interface to Torrus.
The main feature is that it
allows for creation of overview pages showing counters from
different parts of a tree. For example a page containing all
CPU usage counters of all network devices.</p>
<p>Other features are:</p>
<ul>
<li><strong><a name="item_date_and_time_picker">date and time picker</a></strong><br />
</li>
allowing for chosing of the vieving date and time. (In oder to take full 
advantage of this features one has to make sure the RRD files do keep 
full history data for longer then just a couple of days. For example 
to keep 2 years worth of history data:
<p></p></ul>
<pre>
    &lt;param name=&quot;rrd-create-rra&quot;&gt;
        RRA:AVERAGE:0:1:209664
        RRA:AVERAGE:0.1:12:17472 RRA:MAX:0.1:12:17472 RRA:MIN:0.1:12:17472
        RRA:AVERAGE:0.1:288:1456 RRA:MAX:0.1:288:1456 RRA:MIN:0.1:288:1456
        RRA:AVERAGE:0.1:2016:416 RRA:MAX:0.1:2016:416 RRA:MIN:0.1:2016:416
    &lt;/param&gt;</pre>
<ul>
<li><strong><a name="item__27window_27_picker_2e">'window' picker.</a></strong><br />
</li>
This allows for choosing the time
range which is to be displayed: day, week, month etc.
<p></p>
<li><strong><a name="item_show_hidden_checkbox_2e">show hidden checkbox.</a></strong><br />
</li>
Toggle display of hidden counters.
<p></p>
<li><strong><a name="item_auto_2dscale_checkbox_2e">auto-scale checkbox.</a></strong><br />
</li>
Toggle display between auto-scaling and fixed scaling.
<p></p></ul>
<p>This plugin has been tested with Internet Explorer 6.0, Netscape 7.1,
and Mozilla 1.4. Other browsers were not tested and will most likely
not work.</p>
<p>
</p>
<h2><a name="required_software__apart_from_torrus_">Required Software (apart from Torrus)</a></h2>
<ul>
<li><strong><a name="item_perl_modules">Perl Modules</a></strong><br />
</li>
Apache::ASP <a href="http://www.apache-asp.org/">http://www.apache-asp.org/</a>
<p>XML::Sablotron <a href="http://www.cpan.org/">http://www.cpan.org/</a></p>
<p>XML::LibXSLT <a href="http://www.cpan.org/">http://www.cpan.org/</a></p>
<p></p>
<li><strong><a name="item_webfx_modules">WebFx modules</a></strong><br />
</li>
Tab Pane <a href="http://webfx.eae.net/download/tabpane102.zip">http://webfx.eae.net/download/tabpane102.zip</a>
<p>Xtree (modified version is included in this plugin)</p>
<p></p>
<li><strong><a name="item_jscalendar">jscalendar</a></strong><br />
</li>
Date Picker from <a href="http://sourceforge.net/projects/jscalendar/">http://sourceforge.net/projects/jscalendar/</a>
<p></p></ul>
<p>
</p>
<h2><a name="installation">Installation</a></h2>
<p>Follow the Torrus installation guide for the main software installation.</p>
<p>Unpack the plugin distribution package in some directory:</p>
<pre>
  gzip -dc tp-overview-1.X.tar.gz | tar xvf -</pre>
<p>Then run the Torrus plugin installation utility:</p>
<pre>
  torrus install_plugin tp-overview-1.X</pre>
<p>Restart all Torrus processes, including Apache HTTP daemon.</p>
<p>After the plugin installation has finished:</p>
<p>Install the perl module Apache::ASP acording to the instructions on
<a href="http://www.apache-asp.org/">http://www.apache-asp.org/</a></p>
<p>Add the following lines to your apache config file (http.conf). Or
if you are using apache2 simply copy the file apache2.conf to the
/etc/apache2/conf/modules.d directory.
(Note: WEBPLAINDIR is /usr/local/torrus/sup/webplain by default):</p>
<pre>
  ScriptAlias /menu/ &quot;WEBPLAINDIR/menu/&quot;
  ScriptAlias /overviews/ &quot;WEBPLAINDIR/overviews/&quot;</pre>
<pre>
  &lt;Location /menu&gt;
  SetHandler  perl-script
  PerlModule  Apache::ASP
  PerlHandler Apache::ASP
  PerlSetVar  Global /var/torrus/asp
  PerlSetVar NoState 1
  PerlSetVar XSLTParser XML::Sablotron
  PerlSetVar XSLTParser XML::LibXSLT
  PerlSetVar XSLTMatch xml$
  PerlSetVar XSLT menu.xsl
  PerlSetVar RequestParams 1
  &lt;/Location&gt;</pre>
<pre>
  &lt;Location /overviews&gt;
  SetHandler  perl-script
  PerlModule  Apache::ASP
  PerlHandler Apache::ASP
  PerlSetVar  Global /var/torrus/asp
  PerlSetVar NoState 1
  PerlSetVar XSLTParser XML::Sablotron
  PerlSetVar XSLTParser XML::LibXSLT
  PerlSetVar XSLTMatch xml$
  PerlSetVar XSLT overview.xsl
  PerlSetVar RequestParams 1
  &lt;/Location&gt;</pre>
<p>The plugin installer creates the directory <em>/var/torrus/asp</em> with
the default owner <code>torrus</code> and group <code>torrus</code> and mode 775.</p>
<p>Copy the contents of <a href="http://webfx.eae.net/download/tabpane102.zip">http://webfx.eae.net/download/tabpane102.zip</a> to
'WEBPLAINDIR'/tabpane</p>
<p>Copy the contents of the jscalendar package to 'WEBPLAINDIR'/calendar</p>
<p>
</p>
<h2><a name="usage">Usage</a></h2>
<p>Now you're ready to go. A usage example has been included. In order to
use the example you need to follow these additional steps:</p>
<ul>
<li><strong><a name="item_install_randomcollector_2dplugin">install randomcollector-plugin</a></strong><br />
</li>
<li><strong><a name="item_edit_your_torrus_2dsiteconfig_2epl_3a">Edit your torrus-siteconfig.pl:</a></strong><br />
</li>
Add the following item to Torrus::Global::treeConfig
<p></p></ul>
<pre>
    'ovExamples' =&gt; {
        'description' =&gt; 'Example data for overview',
        'xmlfiles' =&gt; [
            'ovDefaults.xml',
            'examples/ovExample.xml',
        ],
        'run' =&gt; { 'collector' =&gt; 1, 'monitor' =&gt; 1 } },</pre>
<ul>
<li><strong><a name="item_run_the_collector">run the collector</a></strong><br />
</li>
Wait a few minutes for it to create all RRDs and collect some data.
<p></p>
<li><strong><a name="item_enjoy_21">Enjoy!</a></strong><br />
</li>
You can access the sample menu at: <a href="http://your-server/menu/sampleMenu.xml">http://your-server/menu/sampleMenu.xml</a>
<p></p></ul>
<p>
</p>
<hr />
<h1><a name="author">Author</a></h1>
<p>Copyright (c) 2003-2004 Christian Schnidrig
&lt;<a href="mailto:christian.schnidrig@bluewin.ch">christian.schnidrig@bluewin.ch</a>&gt;</p>

</body>

</html>
